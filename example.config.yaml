# Relay Sidecar Configuration Example

# Logging
log:
  level: "debug"
  mode: "pretty"

# Storage
storage-dir: ".data"
# circuits-dir: ""  # Optional: Path to ZK circuits directory

# API Server Configuration
api:
  listen: ":8080"
  verbose-logging: false
  http-gateway: false  # Enable HTTP/JSON REST API gateway (default: false)

# Metrics Configuration (optional)
metrics:
  listen: ":9090"
  pprof: false

# Driver Contract
driver:
  chain-id: 31337
  address: "0x4826533B4897376654Bb4d4AD88B7faFD0C98528"

# Secret Keys
secret-keys:
  - namespace: "symb"
    key-type: 0
    key-id: 15
    secret: "0xde0b6b3a7640000"
  - namespace: "evm"
    key-type: 1
    key-id: 31337
    secret: "0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80"

# Signal Configuration
signal:
  worker-count: 10
  buffer-size: 20

# Cache Configuration
cache:
  network-config-size: 10
  validator-set-size: 10

# Sync Configuration
sync:
  enabled: true
  period: 5s
  timeout: 1m
  epochs: 5

# Key Cache
key-cache:
  size: 100
  enabled: true

# P2P Configuration
p2p:
  listen: "/ip4/0.0.0.0/tcp/8880"
  bootnodes: []
  dht-mode: "disabled"
  mdns: true

# EVM Configuration
evm:
  chains:
    - "http://127.0.0.1:8545"
  max-calls: 30

# Aggregation Policy
aggregation-policy-max-unsigners: 50

# Data Retention Configuration (optional)
# Controls how much historical data to keep on this node
retention:
  # Maximum number of historical validator set epochs to sync on fresh node startup
  # - 0 (default): Unlimited - sync from genesis epoch
  # - N > 0: Sync only the most recent N epochs
  # Note: Only applies to fresh nodes. Existing nodes continue from last synced epoch.
  # Should match your pruning retention period to avoid re-syncing pruned data.
  valset-epochs: 0

# Automatic Pruning Configuration (optional)
# Periodically deletes old epoch data to prevent unbounded storage growth
pruner:
  # Enable automatic pruning (default: false for safety)
  enabled: false

  # How often to run the pruning process (default: 1h)
  # Examples: 30m, 1h, 6h, 24h
  interval: 1h


tracing:
  enabled: false
  endpoint: "localhost:4317"
  sample-rate: 1.0